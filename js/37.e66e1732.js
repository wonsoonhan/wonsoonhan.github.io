"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[37],{6042:function(t,e,a){a.r(e),a.d(e,{default:function(){return F}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"ma-0 pa-0"},[i("v-col",{staticStyle:{display:"block","margin-top":"0px"},attrs:{cols:"auto",id:"leftMenu"}},[[i("v-card",{staticClass:"mx-auto",attrs:{width:"300"}},[i("v-list",[i("v-list-group",{attrs:{value:t.leftMenuGroup.seller,"prepend-icon":"mdi-account-circle"},scopedSlots:t._u([{key:"activator",fn:function(){return[i("v-list-item-title",{attrs:{align:"start"}},[t._v("Order")])]},proxy:!0}])},[i("v-list-item",{attrs:{id:"report-weight-list"},on:{click:function(e){return t.leftMenuClick("report-weight-list")}}},[i("v-list-item-title",{staticStyle:{"margin-left":"60px"},attrs:{align:"start"}},[t._v("Actual weight")])],1)],1)],1),i("v-list-item",{attrs:{link:""},on:{click:function(e){return t.leftMenu("hide")}}},[i("v-list-item-icon",[i("v-icon",[t._v("mdi-swap-horizontal")])],1),i("v-list-item-title",{attrs:{align:"start"}},[t._v("Hidden")])],1)],1)]],2),i("div",[i("v-list-item-icon",{staticStyle:{cursor:"pointer",display:"none"},attrs:{id:"leftMenuHide"},on:{click:function(e){return t.leftMenu("show")}}},[i("v-icon",[t._v("mdi-swap-horizontal")])],1)],1),i("v-col",[i("v-row",[i("v-col",[i("v-row",[i("v-col",{staticClass:"ma-1 pa-0 flex-grow-0 flex-shrink-0",attrs:{align:"left"}},[t._v("  "),i("vue-country-code",{staticStyle:{display:"none"}})],1),i("v-col",{staticClass:"ma-1 pa-0 flex-grow-0 flex-shrink-0",attrs:{align:"left"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({staticStyle:{width:"200px"},attrs:{label:"From","prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}},"v-text-field",r,!1),a))]}}]),model:{value:t.fromDateMenu,callback:function(e){t.fromDateMenu=e},expression:"fromDateMenu"}},[i("v-date-picker",{on:{input:function(e){t.fromDateMenu=!1}},model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1)],1),i("v-col",{staticClass:"ma-1 pa-0 flex-grow-0 flex-shrink-0",attrs:{align:"left"}},[i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[i("v-text-field",t._g(t._b({staticStyle:{width:"200px"},attrs:{label:"To","prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}},"v-text-field",r,!1),a))]}}]),model:{value:t.toDateMenu,callback:function(e){t.toDateMenu=e},expression:"toDateMenu"}},[i("v-date-picker",{on:{input:function(e){t.toDateMenu=!1}},model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1)],1),i("v-col",{staticClass:"ma-0 pa-0 flex-grow-0 flex-shrink-0",attrs:{align:"left"}},[i("v-tooltip",{attrs:{top:"",color:"#18A2D9"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[i("v-img",t._g(t._b({staticClass:"shrink mt-1 hidden-sm-and-down",staticStyle:{cursor:"pointer",top:"10px"},attrs:{alt:"",contain:"",src:a(5073),width:"40px"},on:{click:function(e){return t.getDataInit()}}},"v-img",s,!1),r))]}}])},[i("span",[t._v("Search")])])],1)],1)],1),i("v-col",{staticClass:"ma-1 pa-0 flex-grow-0 flex-shrink-0"},[i("v-tooltip",{attrs:{top:"",color:"#18A2D9"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[i("v-img",t._g(t._b({staticClass:"shrink mt-1 hidden-sm-and-down",staticStyle:{cursor:"pointer",top:"5px","margin-right":"30px"},attrs:{contain:"",src:a(9325),width:"40px"},on:{click:function(e){return t.getMakeExcel()}}},"v-img",s,!1),r))]}}])},[i("span",[t._v("Download")])])],1)],1),i("v-row",[i("v-col",{staticStyle:{"padding-top":"10px","padding-bottom":"0px"},attrs:{align:"left"}},[t._v("    "+t._s(t.selected.length)+" / "+t._s(t.desserts.length)+" ")])],1),i("v-row",[i("v-col",[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"item-key":"id","disable-pagination":"","hide-default-footer":"","multi-sort":"","fixed-header":"",height:"100%",id:"dataTableContent"},scopedSlots:t._u([{key:"item",fn:function(e){return[i("tr",{staticStyle:{height:"40px"}},[i("td",{staticStyle:{height:"30px"},attrs:{align:"center"}},[i("input",{staticStyle:{width:"20px",height:"20px"},attrs:{type:"checkbox",name:"item"},on:{change:function(a){return t.setCheck(e.item,a.target.checked)}}})]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"start"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.shipDate))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"start"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.gemMasterNo))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"start"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.orderNo))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.recipientCountry))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(t.getCarrierName(e.item.carrierCode)))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.orderGW))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.orderVW))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualGW))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualVW))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualWidth))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualLength))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualHeight))]),i("td",{staticStyle:{height:"30px",cursor:"pointer"},attrs:{align:"center"},on:{click:function(a){return t.getWeightDetail(e.item)}}},[t._v(t._s(e.item.actualCW))])])]}}])})],1)],1)],1)],1),i("orderDetailView",{attrs:{setOrderDetail:this.setOrderDetail},on:{close:t.closeOrderDetailViewDialog}}),i("loadingBarView",{attrs:{setLoadingBar:this.setLoadingBar}})],1)},r=[],s=a(6123),n=a.n(s),o=a(9755),l=a.n(o),c=a(9669),d=a.n(c),h=a(2745),u=a(7554),g=a(9153),p=a(7703),v={components:{orderDetailView:p.Z,loadingBarView:g.Z},data(){return{loginId:this.$session.get("loginId"),setOrderDetail:{show:!1,orderDetail:"",deleteBtnShow:!1,modifyBtnShow:!1},weightDetailDialogShow:!1,setLoadingBar:{loadingBarDialogShow:!1},leftMenuGroup:{seller:!0,order:!1},fromDateMenu:!1,toDateMenu:!1,fromDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),toDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),searchText:"",weightDetail:"",selectedTasks:[],selected:[],desserts:[],headers:[{text:"Ship date",value:"shipDate",align:"left",width:"102px"},{text:"GEM Master No",value:"gemMasterNo",align:"center"},{text:"Order No",value:"orderNo",width:"140px"},{text:"Country",value:"recipientCountry",align:"center",width:"96px"},{text:"Carrier",value:"carrierCode",align:"center"},{text:"Order GW",value:"orderGW",align:"center"},{text:"Order VW",value:"orderVW",align:"center"},{text:"Actual GW",value:"actualGW",align:"center",class:"actual_1"},{text:"Actual VW",value:"actualVW",align:"center",class:"actual_1"},{text:"Actual Width",value:"actualWidth",align:"center",class:"actual_1"},{text:"Actual Length",value:"actualLenght",align:"center",class:"actual_1"},{text:"Actual Height",value:"actualHeight",align:"center",class:"actual_1"},{text:"CW",value:"actualCW",align:"center",class:"actual_2"}]}},filters:{toFixed:function(t,e){return parseFloat(t).toFixed(e)}},computed:{},methods:{getDataInit(){document.querySelector(".v-data-table__wrapper").scrollTo({left:0,top:0}),this.setLoadingBar.loadingBarDialogShow=!0,d().get(h.Z.makeAPIUrl("/sellers/"+this.loginId+"/reports/order/actual-weight?startDate="+this.fromDate+"&endDate="+this.toDate),{headers:{Authorization:this.$session.get("authorization")}}).then((t=>{this.desserts=t.data;for(var e=0;e<this.desserts.length;e++)this.desserts[e].shipDate=h.Z.getYYYMMDD(this.desserts[e].shipDate);this.setLoadingBar.loadingBarDialogShow=!1})).catch((t=>{if(401==t.response.status)return this.$alert(h.Z.messages.login,"","info").then((()=>{this.$router.push("/")})),!1;this.$alert(t.response.data.message,"","info").then((()=>{})),this.setLoadingBar.loadingBarDialogShow=!1}))},leftMenu(t){l()("#leftMenu").hide(),l()("#leftMenuHide").hide(),"show"==t&&l()("#leftMenu").show(),"hide"==t&&l()("#leftMenuHide").show()},getWeightDetail(t){this.setLoadingBar.loadingBarDialogShow=!0,d().get(h.Z.makeAPIUrl("/sellers/"+this.loginId+"/orders/"+t.orderId),{headers:{"Content-Type":"application/json",Authorization:this.$session.get("authorization")}}).then((t=>{200==t.status&&(this.setOrderDetail.orderDetail=t.data,this.orderDetail=t.data,this.setOrderDetail.show=!0,this.setOrderDetail.deleteBtnShow=!1,this.setOrderDetail.modifyBtnShow=!1,this.setLoadingBar.loadingBarDialogShow=!1)})).catch((t=>{this.$alert(t.response.data.message,"","info").then((()=>{}))}))},closeOrderDetailViewDialog(){this.setOrderDetail.show=!1},setAllCheck(t){var e=t.target.checked;if(this.selected=[],l()('input[name="item"]').prop("checked",e),e)for(var a=0;a<this.desserts.length;a++)this.selected.push(this.desserts[a])},setCheck(t,e){if(e)this.selected.push(t);else{const e=this.selected.indexOf(t);e>-1&&this.selected.splice(e,1)}},keyEnter(t){"Enter"==t.code&&this.getDataInit()},getMakeExcel(){this.selectedTasks=this.selected;var t=this;if(""!=this.selectedTasks){t.setLoadingBar.loadingBarDialogShow=!0;let e=[];for(let t=0;t<this.selectedTasks.length;t++)e.push(this.selectedTasks[t].orderId);d().get(h.Z.makeAPIUrl("/sellers/"+this.loginId+"/reports/order/actual-weight/download?orderIds="+e),{headers:{"Content-Type":"application/json",Authorization:this.$session.get("authorization")}}).then((e=>{var i=[];i.push(["Ship Date","Gem Master No","Order No","Recipient Country","Carrier","Order GW","Order VW","Actual GW","Actual VW","Actual Width","Actual Length","Actual Height","CW"]);for(var r=0;r<e.data.length;r++){var s=h.Z.getYYYMMDD(e.data[r].shipDate),o=e.data[r].gemMasterNo,l=e.data[r].orderNo,c=e.data[r].recipientCountry,d=this.getCarrierName(e.data[r].carrierCode),g=e.data[r].orderGW,p=e.data[r].orderVW,v=e.data[r].actualGW,m=e.data[r].actualVW,f=e.data[r].actualWidth,x=e.data[r].actualLength,D=e.data[r].actualHeight,k=e.data[r].actualCW;i.push([s,o,l,c,d,g,p,v,m,f,x,D,k])}const w=a(4105),_=w.utils.book_new(),y=w.utils.aoa_to_sheet(i);let S=[];i.map((t=>{Object.keys(t).map((e=>{let a=null===t[e]?"":t[e];if("number"===typeof a)return S[e]=10;S[e]=S[e]>=a.length?S[e]:a.length}))}));let b=S.map((t=>({width:t})));y["!cols"]=b,w.utils.book_append_sheet(_,y,"Order_ActualWeight"),w.writeFile(_,"GEM_"+n().get("companyName")+"_ActualWeight_"+u.Z.nowYYYYmmdd()+".xlsx"),t.setLoadingBar.loadingBarDialogShow=!1})).catch((e=>{t.setLoadingBar.loadingBarDialogShow=!1,t.$alert(e.response.data.message,"","info").then((()=>{}))}))}else this.$alert(h.Z.messages.weightSelect,"","info").then((()=>{t.setLoadingBar.loadingBarDialogShow=!1}))},getCarrierName(t){return h.Z.getCarrierName(t)}},mounted(){if(""==this.$session.get("loginId")||""==this.$session.get("authorization"))return this.$alert(h.Z.messages.login,"","info").then((()=>{this.$router.push("/")})),!1;l()(document).prop("title","Report Management"),l()("#bar_header").attr("style","background-color:#E2E1F1"),l()("#top_header").show(),l()("#topNaviText").text("Report Management");var t="height:"+String(window.innerHeight-280)+"px";l()("#dataTableContent").children().attr("style",t),l()(".v-data-table-header>").prepend("<th style='width:15px'><input type='checkbox' style='width:20px;height:20px' id='allCheck' name='allCheck'></th>"),this.targetAllCheck=document.querySelector("#allCheck"),this.targetAllCheck.addEventListener("change",this.setAllCheck),this.getDataInit(),l()("#tabBar>div>div>div>div").next().css({"background-color":"#6587CD"}),l()("#tabBar>div>div>div>div").next().next().css({"background-color":"#949494"}),l()("#tabBar>div>div>div>div").next().next().next().css({"background-color":"#949494"}),l()("#tabBar>div>div>div>div").next().next().next().next().css({"background-color":"#949494"}),l()("#tabBar>div>div>div>div").css({"margin-right":"8px"}),l()("#tabBar>div>div>div>div").css({color:"#FFFFFF"});let e=window.location.href.split("/"),a=e[e.length-1];l()("#"+a).addClass("bg-active"),l()(".v-data-table-header>tr>th").css({"background-color":"#1BB5F2"}),l()(".v-data-table-header>tr>th.actual_1").css({"background-color":"#FFC8A2"}),l()(".v-data-table-header>tr>th.actual_2").css({"background-color":"#FF968A"}),l()(".v-data-table-header>tr>th").css({"text-align":"center"}),l()(".v-data-table-header>tr>th").css({"font-size":"12px"}),l()(".v-data-table-header>tr>th").css({"font-style":"bold"}),l()(".v-data-table-header>tr>th").css({"margin-right":"1px","margin-left":"1px"})}},m=v,f=a(3736),x=a(3453),D=a.n(x),k=a(5893),w=a(7024),_=a(1819),y=a(837),S=a(7294),b=a(9088),C=a(1584),W=a(7970),M=a(5384),B=a(1667),V=a(3560),Z=a(3738),A=a(8836),I=a(7894),O=a(9007),L=a(4213),T=(0,f.Z)(m,i,r,!1,null,"46f9a18a",null),F=T.exports;D()(T,{VCard:k.Z,VCol:w.Z,VContainer:_.Z,VDataTable:y.Z,VDatePicker:S.Z,VIcon:b.Z,VImg:C.Z,VList:W.Z,VListGroup:M.Z,VListItem:B.Z,VListItemIcon:V.Z,VListItemTitle:Z.V9,VMenu:A.Z,VRow:I.Z,VTextField:O.Z,VTooltip:L.Z})}}]);
//# sourceMappingURL=37.e66e1732.js.map